<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>

 // Create a club
 $('#create').on('submit', function(event) {
   const form = $(this);
   event.preventDefault();
   $.ajax({method: 'post', url: '/clubs', data: form.serialize()})
     .done(id => window.location.replace(`/clubs/${id}`))
     .fail(error => alert('Fail to create the club.'));
 });

 // Update a club
 $('#update').on('submit', function(event) {
   const form = $(this);
   event.preventDefault();
   $.ajax({method: 'put', url: '/clubs/<%= club.id -%>', data: form.serialize()})
     .fail(error => alert('Fail to update the club.'));
 });

 // Delete a club
 $('#delete').on('click', function(event) {
   event.preventDefault();
   $.ajax({method: 'delete', url: '/clubs/<%= club.id -%>'})
     .done(() => window.location.replace('/clubs'))
     .fail(error => alert('Fail to delete the club.'));
 });
</script>
